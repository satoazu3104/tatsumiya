{"version":3,"file":"assets/js/blocks/listfaq.js","mappings":"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","sources":["webpack://portart/external window [\"wp\",\"blocks\"]","webpack://portart/external window [\"wp\",\"blockEditor\"]","webpack://portart/external window [\"wp\",\"components\"]","webpack://portart/external window [\"wp\",\"element\"]","webpack://portart/./src/js/blocks/listfaq.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { Button, CheckboxControl } from '@wordpress/components';\n\nregisterBlockType('portart/listfaq', {\n  title: 'FAQ',\n  icon: 'smiley',\n  category: 'layout',\n  attributes: {\n    blocksData: {\n      type: 'array',\n      default: [],\n    },\n    count: {\n      type: 'number',\n      default: 1,\n    },\n    useAccordion: {\n      type: 'boolean',\n      default: true,\n    },\n  },\n\n  edit: ({ attributes: { blocksData, count, useAccordion }, setAttributes }) => {\n    // アイテムの追加\n    const addBlock = () => {\n      const newBlock = { id: blocksData.length + 1, content: `` };\n      setAttributes({\n        blocksData: [...blocksData, newBlock],\n        count: count++\n      });\n    };\n\n    // アイテムの削除\n    const removeBlock = (id) => {\n      const updatedBlocksData = blocksData.filter((block) => block.id !== id);\n      setAttributes({\n        blocksData: updatedBlocksData,\n        count: count++\n      });\n    };\n\n    // テキストの編集\n    const changeArrayText = (newText, index, label) => {\n      let newArray = blocksData;\n      newArray[index][label] = newText;\n      setAttributes({\n        blocksData: newArray,\n        count: count++\n      });\n    }\n\n    // useAccordionの値を変更する\n    const toggleAccordion = (isChecked) => {\n      setAttributes({ useAccordion: isChecked });\n    };\n\n    return (\n      <div>\n        <CheckboxControl\n          label=\"js-accordion機能を使用\"\n          checked={useAccordion}\n          onChange={toggleAccordion}\n        />\n        <div style={{\n          display: 'grid',\n          gap: '24px'\n        }}>\n          {blocksData.map((block, index) => (\n            <div>\n              <div key={block.id} className=\"dynamic-block\">\n                <div style={{\n                  display: 'flex',\n                  gap: '8px'\n                }}>\n                  <p className=\"c-text--bold\">Q</p>\n                  <RichText\n                    value={block.label}\n                    onChange={newText => changeArrayText(newText, index, 'label')}\n                    tagName='p'\n                    placeholder=\"質問を入力してください\"\n                    keepPlaceholderOnFocus={true}\n                  />\n                </div>\n                <div style={{\n                  display: 'flex',\n                  gap: '8px'\n                }}>\n                  <p className=\"c-text--bold\">A</p>\n                  <RichText\n                    value={block.value}\n                    onChange={newText => changeArrayText(newText, index, 'value')}\n                    tagName='p'\n                    placeholder=\"解答タイトルを入力してください\"\n                    keepPlaceholderOnFocus={true}\n                  />\n                </div>\n                <Button isDestructive onClick={() => removeBlock(block.id)}>アイテムを削除</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <Button isPrimary onClick={addBlock}>アイテムを追加</Button>\n      </div>\n    )\n  },\n\n  save: ({ className, attributes: { blocksData, useAccordion } }) => {\n\n    const accordionClasses = useAccordion ? 'js-accordion' : '';\n    const accordionTriggerClasses = useAccordion ? 'js-accordion-trigger' : '';\n    const accordionContentClasses = useAccordion ? '' : 'is-open';\n\n    return (\n      <div>\n        <ul className={`p-faq__list ${accordionClasses}`}>\n          {blocksData.map((block, index) => (\n            <li className={`p-faq__items ${accordionTriggerClasses}`}>\n              <div className='p-faq__inner'>\n                <div></div>\n                <RichText.Content\n                  value={block.label}\n                  tagName='p'\n                  className='p-faq__header c-text__title'\n                />\n              </div>\n              <div className={`p-faq__content accordion__content ${accordionContentClasses}`}>\n                <div></div>\n                <RichText.Content\n                  value={block.value}\n                  tagName='p'\n                  className={`c-text__title body c-text--med c-text--link body c-text--link__icon`}\n                />\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  },\n});"],"names":["window","registerBlockType","title","icon","category","attributes","blocksData","type","default","count","useAccordion","edit","setAttributes","changeArrayText","newText","index","label","newArray","wp","element","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","CheckboxControl","checked","onChange","isChecked","style","display","gap","map","block","key","id","className","RichText","value","tagName","placeholder","keepPlaceholderOnFocus","Button","isDestructive","onClick","updatedBlocksData","filter","removeBlock","isPrimary","addBlock","newBlock","length","content","save","accordionClasses","accordionTriggerClasses","accordionContentClasses","Content"],"sourceRoot":""}