{"version":3,"file":"assets/js/blocks/listcompany.js","mappings":"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","sources":["webpack://portart/external window [\"wp\",\"blocks\"]","webpack://portart/external window [\"wp\",\"blockEditor\"]","webpack://portart/external window [\"wp\",\"components\"]","webpack://portart/external window [\"wp\",\"element\"]","webpack://portart/./src/js/blocks/listcompany.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\n\nregisterBlockType('portart/listcompany', {\n  title: '会社概要',\n  icon: 'smiley',\n  category: 'layout',\n  attributes: {\n    blocksData: {\n      type: 'array',\n      default: [],\n    },\n    count: {\n      type: 'number',\n      default: 1,\n    }\n  },\n\n  edit: ({ attributes: { blocksData, count, title }, setAttributes }) => {\n    // アイテムの追加\n    const addBlock = () => {\n      const newBlock = { id: blocksData.length + 1, content: `` };\n      setAttributes({\n        blocksData: [...blocksData, newBlock],\n        count: count++\n      });\n    };\n\n    // アイテムの削除\n    const removeBlock = (id) => {\n      const updatedBlocksData = blocksData.filter((block) => block.id !== id);\n      setAttributes({\n        blocksData: updatedBlocksData,\n        count: count++\n      });\n    };\n\n    // テキストの編集\n    const changeArrayText = (newText, index, label) => {\n      let newArray = blocksData;\n      newArray[index][label] = newText;\n      setAttributes({\n        blocksData: newArray,\n        count: count++\n      });\n    }\n\n    return (\n      <div>\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(1, 1fr)',\n          gap: '24px'\n        }}>\n          {blocksData.map((block, index) => (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '24px',\n            }}>\n              <div key={block.id} className=\"dynamic-block\">\n                <RichText\n                  value={block.label}\n                  onChange={newText => changeArrayText(newText, index, 'label')}\n                  tagName='p'\n                  placeholder=\"ラベルを入力してください\"\n                  keepPlaceholderOnFocus={true}\n                />\n                <RichText\n                  value={block.value}\n                  onChange={newText => changeArrayText(newText, index, 'value')}\n                  tagName='p'\n                  placeholder=\"値を入力してください\"\n                  keepPlaceholderOnFocus={true}\n                />\n                <Button isDestructive onClick={() => removeBlock(block.id)}>アイテムを削除</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <Button isPrimary onClick={addBlock}>アイテムを追加</Button>\n      </div>\n    )\n  },\n\n  save: ({ className, attributes: { blocksData } }) => {\n    return (\n      <div>\n        <ul className='p-company__list'>\n          {blocksData.map((block, index) => (\n            <li className='p-company__items'>\n              <div className='p-company__inner'>\n                <RichText.Content\n                  value={block.label}\n                  tagName='p'\n                  className='p-company__header c-text__title'\n                />\n                <RichText.Content\n                  value={block.value}\n                  tagName='p'\n                  className='p-company__content c-text__title c-text--reg body'\n                />\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  },\n});"],"names":["window","registerBlockType","title","icon","category","attributes","blocksData","type","default","count","edit","setAttributes","changeArrayText","newText","index","label","newArray","wp","element","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gridTemplateColumns","gap","map","block","alignItems","key","id","className","RichText","value","onChange","tagName","placeholder","keepPlaceholderOnFocus","Button","isDestructive","onClick","updatedBlocksData","filter","removeBlock","isPrimary","addBlock","newBlock","length","content","save","Content"],"sourceRoot":""}